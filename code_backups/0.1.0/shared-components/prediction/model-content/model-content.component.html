<div>
    <!-- Model Header -->
    <div *ngIf="displayHeader" fxLayout="row" fxLayoutAlign="center center" class="pred-model-header">
        <img src="assets/img/model_logos/{{name}}.png" alt="Model Type">
        <div>
            <h5 [matTooltip]="model.id" 
                (click)="_clipboard.copy(model.id)" 
                class="clickable">{{model.id | stringOverview: 10}}</h5>
            <p class="model-type">{{name}}</p>
        </div>
        <span fxFlex></span>
    </div>

    
    <!-- Model Content -->

    <!-- ArimaModel -->
    <div *ngIf="name == 'ArimaModel' && arima_models">
        <div class="pred-model-content">
            <!-- Arima|Sarima -->
            <div fxLayout="row" fxLayoutAlign="start center" class="model-content-row">
                <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
                <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;PRED.</p>
                <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;PREDICT</p>
                <span fxFlex></span>
                <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                    matTooltip="Lookback: The number of candlesticks that will be used from the past in order to make a prediction.">
                    [{{arima_models[0].lookback}}] >
                </p>
                <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                    matTooltip="ARIMA(p, d, q)">
                    &nbsp;({{arima_models[0].arima.p}}, {{arima_models[0].arima.d}}, {{arima_models[0].arima.q}})
                </p>
                <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                    matTooltip="(P, D, Q, m)" 
                    *ngIf="arima_models[0].arima.P != 0 || arima_models[0].arima.D != 0 || arima_models[0].arima.Q != 0 || arima_models[0].arima.m != 0">
                    &nbsp;({{arima_models[0].arima.P}}, {{arima_models[0].arima.D}}, {{arima_models[0].arima.Q}}, {{arima_models[0].arima.m}})
                </p>
                <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                    matTooltip="Predictions: The number of predicitions that will be generated by Arima in order to evaluate the 
                    results from beginning to end.">&nbsp;> [[{{arima_models[0].predictions}}]]</p>
            </div>
            
            <!-- Interpreter -->
            <div fxLayout="row" fxLayoutAlign="start start" class="model-content-row">
                <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
                <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;INTER.</p>
                <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;INTERPRET</p>
                <span fxFlex></span>
                <div class="align-right">
                    <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                        matTooltip="PCT_CHNG(long, short): The percentage change required in the Arima Predictions to make a decision.">
                        PCT_CHNG({{arima_models[0].interpreter.long}}%, {{arima_models[0].interpreter.short}}%)
                    </p>
                </div>
            </div>
        </div>
    </div>


    <!-- RegressionModel -->
    <div *ngIf="name == 'RegressionModel' && regression_models">
        <div class="pred-model-content">
            <!-- Regression -->
            <div fxLayout="row" fxLayoutAlign="start center" class="model-content-row">
                <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
                <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;PRED.</p>
                <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;PREDICT</p>
                <span fxFlex></span>
                <app-regression-element [compact]="compact" [config]="regression_models[0].regression"></app-regression-element>
            </div>
        
            <!-- Interpreter -->
            <div fxLayout="row" fxLayoutAlign="start start" class="model-content-row">
                <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
                <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;INTER.</p>
                <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;INTERPRET</p>
                <span fxFlex></span>
                <div class="align-right">
                    <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                        matTooltip="PCT_CHNG(long, short): The percentage change required in the Regression Predictions to make a decision.">
                        PCT_CHNG({{regression_models[0].interpreter.long}}%, {{regression_models[0].interpreter.short}}%)
                    </p>
                </div>
            </div>
        </div>
    </div>


    <!-- ClassificationModel -->
    <div *ngIf="name == 'ClassificationModel' && classification_models">
        <div class="pred-model-content">
            <!-- Classification -->
            <div fxLayout="row" fxLayoutAlign="start center" class="model-content-row">
                <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
                <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;PRED.</p>
                <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;PREDICT</p>
                <span fxFlex></span>
                <app-classification-element [compact]="compact" [config]="classification_models[0].classification"></app-classification-element>
            </div>
        
            <!-- Interpreter -->
            <div fxLayout="row" fxLayoutAlign="start start" class="model-content-row">
                <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
                <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;INTER.</p>
                <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;INTERPRET</p>
                <span fxFlex></span>
                <div class="align-right">
                    <p [ngClass]="{'formula': !compact, 'compact-formula': compact}"
                        matTooltip="PROB(min_probability): The minimum probability required in order for the prediction to result in non-neutral.">
                        PROB({{classification_models[0].interpreter.min_probability | percent}})
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ConsensusModel -->
    <div *ngIf="name == 'ConsensusModel' && consensus_model" class="pred-model-content">
        <!-- Sub Models -->
        <div *ngFor="let sub_model of consensus_model.sub_models" fxLayout="row" fxLayoutAlign="start center" class="model-content-row">
            <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
            <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;PRED.</p>
            <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;PREDICT</p>
            <span fxFlex></span>
            <p [matTooltip]="sub_model.id" 
                (click)="_nav.displayModelDialog(sub_model)" 
                class="clickable formula">{{sub_model.id | stringOverview: 10}}</p>
        </div>

        <!-- Interpreter -->
        <div fxLayout="row" fxLayoutAlign="start start" class="model-content-row">
            <mat-icon svgIcon="terminal" class="terminal-icon"></mat-icon>
            <p *ngIf="!compact" class="formula command show-on-mobile">&nbsp;INTER.</p>
            <p *ngIf="!compact" class="formula command show-on-desktop">&nbsp;INTERPRET</p>
            <span fxFlex></span>
            <div class="align-right">
                <p class="formula" 
                    matTooltip="CONS(requirement): The number of models that need to agree in order to generate a non-neutral prediction.">
                    CONS({{consensus_model.interpreter.min_consensus}}/{{consensus_model.sub_models.length}})
                </p>
            </div>
        </div>
    </div>
</div>