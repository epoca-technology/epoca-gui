<!-- App Container -->
<mat-sidenav-container class="full-height">

    <!-- Side Navigation -->
    <mat-sidenav #rootSidenav [(opened)]="sidenavOpened" position="end" class="sidenav" autoFocus="false" *ngIf="layout == 'desktop'">

        <!-- Menu Heading Toolbar -->
        <mat-toolbar color="primary" fxLayout="row" fxLayoutAlign="start center">
            <span>Menu</span>
            <span fxFlex></span>
            <button mat-icon-button (click)="signOut()" matTooltip="Sign Out"><mat-icon>logout</mat-icon></button>
            <button mat-icon-button (click)="createNewInstance()" matTooltip="Create New Instance"><mat-icon>open_in_new</mat-icon></button>
            <button mat-icon-button (click)="sidenav?.toggle()"><mat-icon>arrow_forward</mat-icon></button>
        </mat-toolbar>

        <!-- Menu Content -->
        <mat-list>
            <!-- Home -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.dashboard()" [disabled]="state.module == 'dashboard'">
                    <mat-icon svgIcon="home"></mat-icon><span>Dashboard</span>
                </button>
            </mat-list-item>

            <!-- Trading Session -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.candlesticks()" [disabled]="state.module == 'candlesticks'">
                    <mat-icon>auto_graph</mat-icon><span>Trading Session</span>
                </button>
            </mat-list-item>

            <!-- Trading Simulations -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.candlesticks()" [disabled]="state.module == 'candlesticks'">
                    <mat-icon svgIcon="ssid_chart"></mat-icon><span>Trading Simulations</span>
                </button>
            </mat-list-item>

            <!-- Price Chart -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.candlesticks()" [disabled]="state.module == 'candlesticks'">
                    <mat-icon>waterfall_chart</mat-icon><span>Candlesticks</span>
                </button>
            </mat-list-item>

            <!-- API Errors -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.server()" [disabled]="state.module == 'server'">
                    <mat-icon>bug_report</mat-icon><span>API Errors</span>
                </button>
            </mat-list-item>

            <!-- Server -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.server()" [disabled]="state.module == 'server'">
                    <mat-icon svgIcon="server"></mat-icon><span>Server</span>
                </button>
            </mat-list-item>


            <!-- Database -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.database()" [disabled]="state.module == 'database'">
                    <mat-icon svgIcon="database"></mat-icon><span>Database</span>
                </button>
            </mat-list-item>


            <!-- PGAdmin -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="openPGAdmin()">
                    <div fxLayout="row" fxLayoutAlign="center center">
                        <mat-icon>construction</mat-icon><span>PGAdmin</span>
                        <span fxFlex></span>
                        <mat-icon class="light-text" style="font-size:20px;">open_in_new</mat-icon>
                    </div>
                </button>
            </mat-list-item>


            <!-- Dozzle -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="openDozzle()">
                    <div fxLayout="row" fxLayoutAlign="center center">
                        <mat-icon>construction</mat-icon><span>Dozzle</span>
                        <span fxFlex></span>
                        <mat-icon class="light-text" style="font-size:20px;">open_in_new</mat-icon>
                    </div>
                </button>
            </mat-list-item>


            <!-- Users -->
            <mat-list-item>
                <button mat-button class="left-icon-button" (click)="_nav.server()" [disabled]="state.module == 'server'">
                    <mat-icon>people_alt</mat-icon><span>Users</span>
                </button>
            </mat-list-item>
        </mat-list>
    </mat-sidenav>


    <!-- App Content -->
    <mat-sidenav-content class="app-content">

        <!-- Navigation progress bar -->
        <mat-progress-bar *ngIf="state.navigating" class="navigation-progress-bar" mode="indeterminate" color="accent"></mat-progress-bar>



        <!-- Desktop Heading Toolbar -->
        <div class="primary-header heading-bar" *ngIf="layout != 'mobile'">
            <mat-toolbar fxLayout="row" fxLayoutAlign="center center">
                <!-- Logo -->
                <img src="assets/img/logo.png" alt="Logo" (click)="_nav.dashboard()" class="show-on-desktop">
                <img src="assets/img/logo_small.png" alt="Logo" (click)="_nav.dashboard()" class="show-on-mobile">


                <span fxFlex></span>

                <!-- Menu -->
                <button mat-icon-button (click)="sidenav?.toggle()"><mat-icon>menu</mat-icon></button>
            </mat-toolbar>
        </div>


        <!-- Main Router Outlet -->
        <router-outlet></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container>





<!-- Icons Preloader -->
<!-- @TODO Review Relevance -->
<div class="icons-preloader"><mat-icon *ngFor="let icon of customIcons" [svgIcon]="icon"></mat-icon></div>
