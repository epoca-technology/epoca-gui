<mat-toolbar mat-dialog-title color="primary" fxLayout="row" fxLayoutAlign="start center">
    <div fxLayout="row" fxLayoutAlign="center center">
        <button mat-icon-button class="show-on-mobile" (click)="close()"><mat-icon>arrow_back</mat-icon></button>
        <span class="truncate">Trend Prediction</span>&nbsp;
        <span fxFlex></span>
        <button mat-icon-button (click)="displayTooltip()" matTooltip="What is this?"><mat-icon>question_mark</mat-icon></button>
        <button mat-icon-button matTooltip="Display Model" 
            (click)="_nav.displayPredictionModelConfigDialog(model)">
            <mat-icon svgIcon="brain"></mat-icon>
        </button>        
        <button mat-icon-button class="show-on-desktop" (click)="close()"><mat-icon>close</mat-icon></button>
    </div>
</mat-toolbar>
<div mat-dialog-content>
    <!-- Content -->
    <div class="prediction fadeIn">
        <!-- Prediction Time -->
        <div fxLayout="row" fxLayoutAlign="start center">
            <p class="light-text">Time</p>
            <span fxFlex></span>
            <p>{{prediction.t | date:'medium'}}</p>
        </div>

        <!-- Features SUM -->
        <div fxLayout="row" fxLayoutAlign="start center" class="margin-top">
            <p class="light-text">Trend Sum</p>
            <span fxFlex></span>
            <div [ngClass]="{
                'square-badge-success': featuresSum > 0,
                'square-badge-error': featuresSum < 0,
                'square-badge-neutral': featuresSum == 0,
                'stateless': featuresSum == 0,
                'state': (featuresSum > 0 && featuresSum < model.min_increase_sum) || (featuresSum < 0 && featuresSum > model.min_decrease_sum)
                }">
                {{featuresSum | number: '1.0-6'}}
            </div>
        </div>

        <!-- Features -->
        <div>
            <apx-chart
                [series]="features.series"
                [chart]="features.chart"
                [plotOptions]="features.plotOptions"
                [xaxis]="features.xaxis"
                [yaxis]="features.yaxis"
                [dataLabels]="features.dataLabels"
                [colors]="features.colors"
                [grid]="features.grid"
                [legend]="{show: false}"
            ></apx-chart>
        </div>
    </div>
</div>
