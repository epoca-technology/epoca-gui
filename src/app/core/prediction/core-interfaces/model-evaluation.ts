import { IBacktestPosition } from "./backtest"




/* Model Evaluation Types at types/model_evaluation_types.py */





 /**
  * Model Evaluation
  * Evaluation performed right after the model is trained in order to get an overview of the
  * potential accuracy, as well as the prediction type distribution.
  * The evaluation works similarly to the backtests and it is only performed on the test
  * dataset to ensure the model has not yet seen it.
  * 
  * Early Stopping
  * The process of training and evaluating models creates a massive bottleneck as computing
  * resources are limited. In order to speed up the process, a Model Evaluation will stop early
  * if any of the following is met:
  * 1) The model reaches -20 points
  * 2) The model has less than 1 long or 1 short at the first early stopping checkpoint (15% of the dataset)
  * 3) The model has less than 3 longs or 3 shorts at the first early stopping checkpoint (30% of the dataset)
  * 4) The model has less than 10 longs or 10 shorts at the second early stopping checkpoint (50% of the dataset)
  * 5) The model has less than 15 longs or 15 shorts at the third early stopping checkpoint (70% of the dataset)
  */
export interface IModelEvaluation {
    // Early stopping description. Will only be present is the evaluation was stopped early.
    early_stopping?: string,

    // The number of neutral predictions generated by the Model
    neutral_predictions: number,

    // Positions
    positions: IBacktestPosition[],

    // The median of the points collected during the evaluation
    points_median: number,

    // The number of times the Model predicted a price increase
    increase_num: number
    increase_successful_num: number,

    // The number of times the Model predicted a price decrease
    decrease_num: number
    decrease_successful_num: number,

    // Accuracy
    increase_acc: number,
    decrease_acc: number,
    acc: number,

    // Increase Predictions Overview
    increase_list: number[],
    increase_max: number,
    increase_min: number,
    increase_mean: number,
    increase_successful_list: number[],
    increase_successful_max: number,
    increase_successful_min: number,
    increase_successful_mean: number,

    // Decrease Predictions Overview
    decrease_list: number[],
    decrease_max: number,
    decrease_min: number,
    decrease_mean: number,
    decrease_successful_list: number[],
    decrease_successful_max: number,
    decrease_successful_min: number,
    decrease_successful_mean: number,

    // Outcomes
    increase_outcomes: number,
    decrease_outcomes: number
}